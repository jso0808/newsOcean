<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adminPerform">
	
	<!-- 통계  1 : 연간 세일-->
	<select id="chart_sales" resultType="com.sp.app.admin.perform.Perform">
	 SELECT SUM(paid_amount) sum_paid_amount, TO_CHAR(substart, 'YYYY-MM-DD')substart
        FROM subscript
        GROUP BY TO_CHAR(substart, 'YYYY-MM-DD')
        ORDER BY substart ASC
	</select>
	
	<!-- 통계  1 : 일자별 회원 가입자 -->
	<select id="chart_member" resultType="com.sp.app.admin.perform.Perform">
	 SELECT COUNT(memberNo) dataMember, TO_CHAR(joindate, 'YYYY-MM-DD') joindate
        FROM member
        GROUP BY TO_CHAR(joindate, 'YYYY-MM-DD')
        ORDER BY joindate ASC
	</select>
	
	<!-- 회원 리스트 가져오기 -->
	<select id="list_member" parameterType="map" resultType="com.sp.app.admin.perform.Perform">
	</select>
	
	<!-- 매출 / 올해 매출 조회 -->
	<select id="year_target" resultType="com.sp.app.admin.perform.Perform">
		SELECT TO_CHAR(golsdate, 'YYYY') golsdate, golamount, goltype
		FROM sales_goals
		WHERE TO_CHAR(golsdate, 'YYYY') = TO_CHAR(SYSDATE, 'YYYY')
	</select>
	
</mapper>